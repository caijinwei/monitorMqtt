<!DOCTYPE html>
<html lang="en" ng-app="weconweb">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../../css/style.css"/>
    <link rel="stylesheet" href="../../lib/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../lib/font-awesome/4.7.0/css/font-awesome.min.css">
    <style type="text/css">
        .table th, .table td {
            text-align: center;
            vertical-align: middle !important;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="../../css/page.css"/>


</head>
<body ng-controller="listController" ng-init="onInit()">
<div class="container">
    <ol class="breadcrumb" style="margin-top: 40px;">
        <li><a href="../overview.html">主页</a></li>
        <li><a href="viewaccountmgr.html">视图账号管理</a></li>
        <li class="active">{{name}}</li>
    </ol>
    <div class="content">
        <h4>{{title}}</h4>
        <table class="table table-bordered">
            <caption>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#showRestOpint"
                        ng-click="showRestList()">
                    <span class="glyphicon glyphicon-plus"></span> 分配监控点
                </button>
            </caption>
            <thead>
            <tr>
                <th class="col-md-1">序号</th>
                <th class="col-md-2">名称</th>
                <th class="col-md-2">地址</th>
                <!--<th class="col-md-2">状态</th>-->
                <th class="col-md-3">操作</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="x in realpointDatas">
                <td>
                    {{x.id}}
                </td>
                <td>{{x.name}}</td>
                <td>{{x.addr}}</td>
                <!--<td>{{x.state==0?'已同步给盒子':(x.state=='1'?'新增配置':(x.state='2'?'更新配置':'删除配置'))}}</td>-->
                <td>

                        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#delectOpint"
                                ng-click="deleteOpintParam(x.id,x.role_type)">
                            解除关联
                        </button>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>
        <p>

        <div style="margin-bottom: 40px">
            <tm-pagination conf="paginationConf"></tm-pagination>
        </div>
        </p>
    </div>

    <!-- 解除关联模态框（Modal） -->
    <div class="modal fade" id="delectOpint" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title">
                        确定解除关联！
                    </h4>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                    </button>
                    <button type="button" class="btn btn-primary" id="btn_deleteOption" ng-click="deleteOption()">
                        提交更改
                    </button>
                </div>
            </div><!-- /.modal-content -->
        </div>
    </div><!-- /.modal -->

    <!--监控点分配模态窗口-->
    <div class="modal fade" id="showRestOpint" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" id="modal-content-id">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title">
                        分配余下监控点
                    </h4>
                </div>
                <div class="modal-body " style="height: 450px;" id="model-body-id">
                    <iframe id="myiframe"
                            frameborder="0" marginheight="0"
                            marginwidth="0" width="100%" height="100%"></iframe>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" id="btn_cancelSetOption">关闭
                    </button>
                    <button type="button" id="btn_setViewOpint" class="btn btn-primary" ng-click="setViewOpint()">
                        确定
                    </button>
                </div>
            </div><!-- /.modal-content -->
        </div>
    </div><!-- /.modal -->
</div>
</div>
<script src="../../lib/jquery/jquery-3.2.1.min.js"></script>
<script src="../../lib/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="../../lib/angular/angular.min.js" type="text/javascript"></script>
<script src="../../lib/wecon-common.js" type="text/javascript"></script>
<script src="../../js/user/viewpointalarm.js?v=1" type="text/javascript"></script>
<script src="../../lib/pagination.js" type="text/javascript"></script>
</body>
</html>