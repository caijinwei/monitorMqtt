<!DOCTYPE html>
<html lang="en" ng-app="weconweb">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <link rel="stylesheet" type="text/css" href="../lib/bootstrap/css/bootstrap.css"/>
    <link rel="stylesheet" type="text/css" href="../lib/font-awesome/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css" href="../lib/animate.min.css"/>
    <link rel="stylesheet" type="text/css" href="../lib/base.css"/>
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
    <link href="../lib/iCheck/css/custom.css" rel="stylesheet">
    <style>
        .input-group {
            display: table-row;
        }

    </style>
    <!--低版本浏览器识别HTML5标签-->
    <!--低版本浏览器支持CSS媒体查询-->
    <!--[if lt IE 9]>
    <script type="text/javascript" src="../lib/html5shiv/html5shiv-printshiv.min.js"></script>
    <script type="text/javascript" src="../lib/respond/respond.min.js"></script>
    <![endif]-->
    <link href="../lib/loader.css" rel="stylesheet">
    <script src="../lib/jquery/jquery.min.js"></script>




</head>
<div id="loader-wrapper">
    <div id="loader"></div>
    <div class="loader-section section-left"></div>
    <div class="loader-section section-right"></div>
    <div class="load_title">正在加载<br><span>V1.0</span></div>
</div>
<body ng-controller="infoController" ng-init="onInit()">
<!-- Nav tabs -->
<ul class="nav nav-tabs" role="tablist" id="baseConfigTab">
    <li role="presentation" class="active">
        <a href="#base-info" aria-controls="base-info" role="tab" data-toggle="tab">基本信息</a>
    </li>
    <li role="presentation">
        <a href="#com-port" aria-controls="com-port" role="tab" data-toggle="tab" ng-click="initPlcSetting()">通讯口配置</a>
    </li>
    <li role="presentation">
        <a href="#dev_firm" aria-controls="dev_firm" role="tab" data-toggle="tab"
           ng-click="dev_firmShow(infoData.state)">版本信息</a>
    </li>
</ul>

<!-- Tab panes -->
<div class="tab-content">
    <!--begin 基本信息展示--->
    <div role="tabpanel" class="tab-pane active" id="base-info">
        <div class="row">
            <div class="col-sm-12">
                <div class="tabs-container">
                    <div class="tab-content">
                        <div class="tab-pane active">
                            <div class="panel-body">
                                <div class="ibox-content">
                                    <form class="form-horizontal">
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">V-Box名称</label>

                                            <div class="col-sm-5">
                                                <input type="text" class="form-control" name="PIBoxName" id="PIBoxName"
                                                       value="{{infoData.name}}" placeholder=""/>
                                            </div>
                                        </div>
                                        <div class="hr-line-dashed">
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">在线状态</label>

                                            <div class="col-sm-5">
                                                <span style="padding-right:10px;"
                                                      ng-bind="infoData.state==1?'在线':'离线'"></span>
                                                <button class="btn btn-primary" type="button" ng-click="flushState()"><i
                                                        class="fa fa-check"></i>&nbsp;刷新
                                                </button>
                                            </div>
                                        </div>
                                        <div class="hr-line-dashed">
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">机器码</label>

                                            <div class="col-sm-5">
                                                <span ng-bind="infoData.machine_code"></span>
                                            </div>
                                        </div>
                                        <div class="hr-line-dashed">
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">设备型号</label>

                                            <div class="col-sm-5">
                                                <span ng-bind="infoData.dev_model"></span>
                                            </div>
                                        </div>
                                        <div class="hr-line-dashed">
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">行业应用</label>

                                            <div class="col-sm-4">
                                                <select class="form-control" id="deviceUse" name="deviceUse"
                                                        onchange="isOtherOption()" value="{{deviceUseOptions}}">
                                                    <option ng-repeat="use in deviceUseOptions" value="{{use.useCode}}">
                                                        {{use.useName}}
                                                    </option>
                                                </select>
                                            </div>
                                            <div class="col-md-4" style="padding-left: 0px">
                                                <input style="display:none;padding-left: 12px;width: 90%"
                                                       class="form-control" type="text"
                                                       id="otherDeviceUseName" name="otherDeviceUseName" maxlength="15"
                                                       placeholder="其他行业"/>
                                            </div>
                                        </div>
                                        <div class="hr-line-dashed">
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">历史数据最多保存</label>

                                            <div class="col-sm-4">
                                                <input type="number" class="form-control" id="maxHisDataCount"
                                                       ng-model="infoData.max_his_data_count" min="1" max="50000"
                                                       name="maxHisDataCount">
                                            </div>
                                        </div>
                                        <div class="hr-line-dashed">
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">地图信息</label>

                                            <div class="col-sm-8">
                                                <div class="form-group">
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control" ng-model="map_a"
                                                               id="map_a"
                                                               placeholder="经度">
                                                    </div>
                                                    <div class="col-sm-3">
                                                        <input type="text" class="form-control"
                                                               placeholder="纬度" id="map_o" ng-model="map_o">
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <button class="btn btn-primary " id="btn_map_show"
                                                                ng-click="mapShow()" type="button">
                                                            <i class="fa fa-check"></i>定位
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="hr-line-dashed">
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">备注
                                            </label>

                                            <div class="col-sm-5">
                                                <textarea class="form-control"
                                                          ng-model="infoData.remark" id="remark"></textarea>
                                            </div>
                                        </div>
                                        <div class="hr-line-dashed">
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">高级功能</label>

                                            <div class="col-sm-4 ">
                                                <button class="btn btn-danger" type="button" ng-click="deletePIBox(infoData.device_id)">
                                                    解绑V-Box
                                                </button>
                                                <button class="btn btn-primary" type="button"
                                                        ng-click="chgPiboxInFoName(infoData.device_id)">保存修改
                                                </button>
                                                <button class="btn btn-primary" type="button" data-toggle="modal"
                                                        ng-click="getDeviceByAccId()">
                                                    复制配置
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--end 基本信息展示-->

    <!--begin通讯口配置-->
    <div role="tabpanel" class="tab-pane" id="com-port">
        <div class="row">
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <div class="table-responsive">
                            <table class="table table-bordered" cellspacing="0" width="100%">
                                <caption>
                                    <p style="font-size:15px;">
                                        您配置与V-BOX与相连通的设备（比如：PLC品牌及型号，数据采集模块，PID控制表或MODBUS标准协议等）</p>
                                    <button id="chooseIndex" type="button" class="btn btn-primary" data-toggle="modal"
                                            ng-click="cleanInput()"><span class="fa fa-indent"></span>&nbsp;添加
                                    </button>

                                </caption>
                                <thead>
                                <tr>
                                    <th>编号</th>
                                    <th>通讯接口</th>
                                    <th>串口协议</th>
                                    <th>驱动名称</th>
                                    <th>操作</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="x in infoDatas">
                                    <td>
                                        <span ng-switch="{{x.state}}">
                                    <i name="act_i_state" ng-switch-when="0">
                                    </i>
                                    <i name="act_i_state" ng-switch-when="1" class="fa  fa-circle"
                                       style="color: orange;" data-toggle="tooltip" title="条目未下发">
                                    </i>
                                    <i name="act_i_state" ng-switch-when="2" class="fa  fa-circle"
                                       style="color: orange;" data-toggle="tooltip" title="条目未下发">
                                    </i>
                                    <i name="act_i_state" ng-switch-when="3" class="fa  fa-circle"
                                       style="color: orange;" data-toggle="tooltip" title="条目未下发">
                                    </i>
                                     <i name="act_i_state" ng-switch-when="4" class="fa  fa-circle"
                                        style="color: orange;" data-toggle="tooltip" title="条目未下发">
                                     </i>
                                      <i name="act_i_state" ng-switch-when="-1" class="fa  fa-circle"
                                         style="color: black;" data-toggle="tooltip" title="加载通讯口地址规则失败">
                                      </i>
                                     <i name="act_i_state" ng-switch-when="-2" class="fa  fa-circle"
                                        style="color: black;" data-toggle="tooltip" title="初始化设备配置模块失败">
                                     </i>
                                     <i name="act_i_state" ng-switch-when="-3" class="fa  fa-circle"
                                        style="color: black;" data-toggle="tooltip" title="加载驱动失败">
                                     </i>

                                </span>
                                        &nbsp; {{$index + 1}}
                                    </td>
                                    <td ng-bind="x.port"></td>
                                    <td ng-bind="x.comtype==0?'RS232':(x.comtype==1?'RS485':'RS422')"></td>
                                    <td ng-bind="x.type"></td>
                                    <td>
                                        <a href="#" data-toggle="modal" data-target="#addConfig"
                                           ng-click="setplc_id(x.plcId)"
                                           ng-if="x.state!=3">
						                                <span class="glyphicon glyphicon-edit" title=""
                                                              data-toggle="tooltip"
                                                              style="font-size:16px;color:#32a696;margin:10px;"
                                                              data-original-title="通讯口编辑">
						                                </span>
                                        </a>
                                        <a href="#" ng-click="deletePlc(x.plcId)"

                                           data-toggle="tooltip" title="删除此配置" data-original-title="删除此配置">
					                                    <span class="glyphicon glyphicon-trash" onclick="deletePlc()"
                                                              style="font-size:16px;color:#32a696;margin:10px;">
					                                    </span>
                                        </a>
                                    </td>
                                </tr>

                                <!--plc删除状态展示-->
                                <tr ng-repeat="x in delinfoDatas" style="background-color: #EDEDED">
                                    <td>
                                        <span ng-switch="{{x.state}}">

                                    <i name="act_i_state" ng-switch-when="0">
                                    </i>
                                    <i name="act_i_state" ng-switch-when="1" class="fa  fa-circle"
                                       style="color: orange;" data-toggle="tooltip" title="条目未下发">
                                    </i>
                                    <i name="act_i_state" ng-switch-when="2" class="fa  fa-circle"
                                       style="color: orange;" data-toggle="tooltip" title="条目未下发">
                                    </i>
                                    <i name="act_i_state" ng-switch-when="3" class="fa  fa-circle"
                                       style="color: orange;" data-toggle="tooltip" title="条目未下发">
                                    </i>
                                     <i name="act_i_state" ng-switch-when="4" class="fa  fa-circle"
                                        style="color: orange;" data-toggle="tooltip" title="条目未下发">
                                     </i>
                                      <i name="act_i_state" ng-switch-when="-1" class="fa  fa-circle"
                                         style="color: black;" data-toggle="tooltip" title="加载通讯口地址规则失败">
                                      </i>
                                     <i name="act_i_state" ng-switch-when="-2" class="fa  fa-circle"
                                        style="color: black;" data-toggle="tooltip" title="初始化设备配置模块失败">
                                     </i>
                                     <i name="act_i_state" ng-switch-when="-3" class="fa  fa-circle"
                                        style="color: black;" data-toggle="tooltip" title="加载驱动失败">
                                     </i>

                                </span>
                                        &nbsp; {{$index + 1}}
                                    </td>
                                    <td><del style="background-color: inherit">{{x.port}}</del></td>
                                    <td><del style="background-color: inherit">{{x.comtype==0?'RS232':(x.comtype==1?'RS485':'RS422')}}</del></td>
                                    <td><del style="background-color: inherit">{{x.type}}</del></td>
                                    <td>
                                        <span>待删除状态</span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!--end通讯口配置 --->

    <!--begin 固件更新-->
    <div role="tabpanel" class="tab-pane" id="dev_firm">

        <div class="row">
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <div class="row ibox-solid" style="margin-bottom: 20px;">
                            <span>操作</span>
                            <button type="button" class="btn btn-primary" ng-click="checkUpdate()"> 检查更新
                            </button>
                        </div>
                        <div class="panel panel-primary">
                            <div class="panel-heading">固件信息</div>
                            <div class="panel-body">
                                <div class="container-fluid" style="margin-top: 10px;font-size: 15px;">
                                    <!--<div class="row" style="margin-top: 30px;">-->
                                    <!--<span class="col-md-1">固件ID</span>-->
                                    <!--<span style="font-weight: bold;margin-left: 20px;">{{devFirmInfo.f_id}}</span>-->
                                    <!--</div>-->
                                    <div class="row" style="margin-top: 5px;">
                                        <span class="col-md-1">版本名称</span>
                                        <span style="font-weight: bold;margin-left: 20px;"
                                              class="ng-binding" ng-bind="devFirmInfo.f_name"></span>
                                    </div>
                                    <div class="row" style="margin-top: 30px;">
                                        <span class="col-md-1">固件版本</span>
                                        <span style="font-weight: bold;margin-left: 20px;"
                                              class="ng-binding" ng-bind="devFirmInfo.f_ver"></span>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>

        </div>
        <!--/-->

    </div>
    <!--end 固件更新-->
</div>

<!--begin 添加通讯口modal --->
<div class="modal inmodal fade" id="addConfig" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header" style="padding:15px 10px;">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h5 class="modal-title">添加通信口配置</h5>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="tabs-container">
                            <div class="tab-content">
                                <div id="tab-1" class="tab-pane active">

                                    <form method="post" class="form-horizontal">
                                        <!--
                                         隐藏plc_id
                                        当plc_id为默认值0时候  就是新增用户
                                        当plc_id为非0数值时候  就是修改改plc_id的内容
                                         -->
                                        <input type="hidden" id="plc_id" value="0"/>
                                        <input type="hidden" id="driver"/>
                                        <input class="col-md-7" name="device_id" id="device_id"
                                               style="height: 30px; cursor: not-allowed;display: none;" disabled/>


                                        <div class="form-group col-md-6">
                                            <label class="col-sm-4 control-label">通讯协议</label>

                                            <div class="col-sm-7">
                                                <select class="form-control ng-pristine ng-valid ng-touched"
                                                        style="height: 30px;" id="port" ng-change="chgPort()"
                                                        ng-model="selectedPort">
                                                    <option value="COM1">COM1</option>
                                                    <option value="COM2">COM2</option>
                                                    <option value="Ethernet">Ethernet</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label class="col-sm-4 control-label">设备类型</label>

                                            <div class="col-sm-7">
                                                <select class="form-control ng-pristine ng-valid ng-touched"
                                                        ng-model="selectedPtype" id="ptype" ng-change="chgPtype()">
                                                    <option ng-repeat="x in pTypeSet" value="{{x}}">{{x}}</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="form-group col-md-12">
                                            <label class="col-sm-2 control-label"
                                                   style="padding-right: 20px;">驱动名称</label>

                                            <div class="col-sm-9">
                                                <select class="form-control ng-pristine ng-valid ng-touched"
                                                        style="margin-left:-5px;width: calc(100% + 10px);" id="type"
                                                        name="type" ng-model="selectedType" ng-change="chgType()">
                                                    <option ng-repeat="x in pType" ng-bind="x.type">{{x.type}}</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label class="col-sm-4 control-label">盒子站号</label>

                                            <div class="col-sm-7">
                                                <input class="form-control" type="number" name="box_stat_no"
                                                       id="box_stat_no">
                                            </div>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label class="col-sm-4 control-label">PLC站号</label>

                                            <div class="col-sm-7">
                                                <input class="form-control" name="plc_stat_no" type="number"
                                                       id="plc_stat_no">
                                            </div>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label class="col-sm-4 control-label">重试次数</label>

                                            <div class="col-sm-7">
                                                <input class="form-control" type="number" name="retry_times"
                                                       id="retry_times">
                                            </div>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label class="col-sm-4 control-label">等待超时</label>

                                            <div class="col-sm-7">
                                                <input class="form-control" type="number" name="wait_timeout"
                                                       id="wait_timeout">
                                            </div>
                                            <span class="col-md-1" style="padding: 0px">ms</span>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label class="col-sm-4 control-label">接收超时</label>

                                            <div class="col-sm-7 ">
                                                <input class="form-control" type="number" name="rev_timeout"
                                                       id="rev_timeout">
                                            </div>
                                            <span class="col-md-1" style="padding: 0px">ms</span>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label class="col-sm-4 control-label">连续长度</label>

                                            <div class="col-sm-7 ">
                                                <input class="form-control" type="number" name="com_stepinterval"
                                                       id="com_stepinterval">
                                            </div>
                                            <span class="col-md-1" style="padding: 0px">ms</span>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label class="col-sm-4 control-label">通讯延迟时间</label>

                                            <div class="col-sm-7 ">
                                                <input class="form-control" type="number" name="com_iodelaytime"
                                                       id="com_iodelaytime">
                                            </div>
                                            <span class="col-md-1" style="padding: 0px">ms</span>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <label class="col-sm-4 control-label">重试超时</label>

                                            <div class="col-sm-7 ">
                                                <input class="form-control" type="number" name="retry_timeout"
                                                       id="retry_timeout">
                                            </div>
                                            <span class="col-md-1" style="padding: 0px">ms</span>
                                        </div>

                                        <!--begin--串口参数设置-->
                                        <div ng-show="portIfShow==1">


                                            <div class="form-group col-md-12">
                                                <label class="col-sm-2 control-label"
                                                       style="padding-right: 20px;">波特率</label>

                                                <div class="col-sm-9">
                                                    <select class="form-control ng-pristine ng-valid ng-touched"
                                                            style="margin-left:-5px;width: calc(100% + 10px);"
                                                            name="baudrate" id="baudrate">
                                                        <option>187500</option>
                                                        <option>115200</option>
                                                        <option>57600</option>
                                                        <option>38400</option>
                                                        <option>19200</option>
                                                        <option>9600</option>
                                                        <option>4800</option>
                                                        <option>2400</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group col-md-6">
                                                <label class="col-sm-4 control-label">串口协议</label>

                                                <div class="col-sm-7">
                                                    <select class="form-control ng-pristine ng-valid ng-touched"
                                                            style="height: 30px;" name="comtype" id="comtype">
                                                        <option value="0">RS232</option>
                                                        <option value="1">RS485</option>
                                                        <option value="2">RS422</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-6">
                                                <label class="col-sm-4 control-label">停止位</label>

                                                <div class="col-sm-7">
                                                    <select class="form-control ng-pristine ng-valid ng-touched"
                                                            style="height: 30px;" name="stop_bit" id="stop_bit">
                                                        <option value="1">1</option>
                                                        <option value="2">2</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group col-md-6">
                                                <label class="col-sm-4 control-label">数据位</label>

                                                <div class="col-sm-7">
                                                    <select class="form-control ng-pristine ng-valid ng-touched"
                                                            style="height: 30px;" name="data_length" id="data_length">
                                                        <option value="7">7</option>
                                                        <option value="8">8</option>
                                                    </select>
                                                </div>
                                            </div>


                                            <div class="form-group col-md-6">
                                                <label class="col-sm-4 control-label">校验位</label>

                                                <div class="col-sm-7">
                                                    <select class="form-control ng-pristine ng-valid ng-touched"
                                                            style="height: 30px;" name="check_bit" id="check_bit">
                                                        <option value="EVEN">EVEN</option>
                                                        <option value="NONE">NONE</option>
                                                        <option value="ODD">ODD</option>
                                                        <option value="SPACE">SPACE</option>
                                                    </select>
                                                </div>
                                            </div>

                                        </div>
                                        <!--end-串口配置-->

                                        <!--begin-以太网配置-->
                                        <div ng-show="ethernetShow==1">

                                            <div class="form-group col-md-6">
                                                <label class="col-sm-4 control-label">校验位</label>

                                                <div class="col-sm-7">
                                                    <select class="form-control ng-pristine ng-valid ng-touched"
                                                            style="height: 30px;" name="net_type" id="net_type">
                                                        <option value="0">tcp_client</option>
                                                        <option value="1">udp_client</option>
                                                        <option value="2">tcp_client_2n</option>
                                                        <option value="3">udp_client_2n</option>
                                                        <option value="4">tcp_server</option>
                                                        <option value="5">udp_server</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group col-md-6">
                                                <label class="col-sm-4 control-label">端口</label>

                                                <div class="col-sm-7 ">
                                                    <input class="form-control" type="number" name="net_port"
                                                           id="net_port">
                                                </div>
                                                <span class="col-md-1" style="padding: 0px">ms</span>
                                            </div>


                                            <div class="form-group col-md-6">
                                                <label class="col-sm-4 control-label">使用广播地址</label>

                                                <div class="col-sm-7 ">
                                                    <div class="onoffswitch" style="margin-top: 5px;">
                                                        <input type="checkbox" class="onoffswitch-checkbox"
                                                               id="net_isbroadcast" ng-click="isBroadcast()">
                                                        <label class="onoffswitch-label" for="net_isbroadcast">
                                                            <span class="onoffswitch-inner"></span>
                                                            <span class="onoffswitch-switch"></span>
                                                        </label>
                                                    </div>

                                                </div>
                                            </div>

                                            <div class="form-group col-md-6">
                                                <label class="col-sm-4 control-label">广播地址站号</label>

                                                <div class="col-sm-7 ">
                                                    <input class="form-control" type="number"
                                                           name="net_broadcastaddr" id="net_broadcastaddr">
                                                </div>
                                            </div>

                                            <div class="form-group col-md-6">
                                                <label class="col-sm-4 control-label">IP地址</label>

                                                <div class="col-sm-7 ">
                                                    <input class="form-control"
                                                           name="net_ipaddr" id="net_ipaddr">
                                                </div>
                                            </div>


                                        </div>
                                        <!--end 以太网配置-->

                                    </form>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-white closeModal" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" id="btn_plcInfo_submit" ng-click="chgTypeNotice()">保存
                </button>
            </div>
        </div>
    </div>
</div>
<!--end 添加通讯口modal-->
<!--begin 配置复制modal-->
<div class="modal inmodal fade" id="copyConfigModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header" style="padding:15px 10px;">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title">配置复制</h4>
            </div>
            <div class="modal-body">
                <table class="table table-bordered table-hover">
                    <tbody>
                    <tr class="input-group">
                        <td colspan="2">
                            <select class="form-control" id="fromDeviceId" style="height: 30px;width: 100%;">
                                <option ng-repeat="x in devices" value="{{x.device_id}}">{{x.name}}</option>
                            </select>
                        </td>
                    </tr>
                    <tr class="input-group">
                        <td class="col-md-1">
                        <span>
                        	<div class="form-inline">
                                <div class="checkbox i-checks">
                                    <label class="no-padding">
                                        <input type="checkbox" name="copyCheckbox" id="baseInfoChck"><i></i></label>
                                </div>
                            </div>
                        </span>
                        </td>
                        <td class="col-md-11">
                            <span>基本信息</span>
                        </td>
                    </tr>
                    <tr class="input-group">
                        <td class="col-md-1">
                            <span>
                            	<div class="form-inline">
                                    <div class="checkbox i-checks">
                                        <label class="no-padding">
                                            <input name="copyCheckbox" type="checkbox" id="comSelCheck"
                                                   onclick="cleanCopyCheccbox()"> <i></i>
                                        </label>
                                    </div>
                                </div>
                            </span>
                        </td>
                        <td class="col-md-11">
                            <span>通讯口配置</span>
                        </td>
                    </tr>
                    <tr class="input-group" style="display: none;" name="otherSel">
                        <td class="col-md-1">
                        <span>
                        	<div class="form-inline">
                                <div class="checkbox i-checks">
                                    <label class="no-padding">
                                        <input name="copyCheckbox" type="checkbox" id="isRealSelCheck"><i></i></label>
                                </div>
                            </div>
                        </span>
                        </td>
                        <td class="col-md-11">
                            <span>实时数据</span>
                        </td>
                    </tr>
                    <tr class="input-group" style="display: none;" name="otherSel">
                        <td class="col-md-1">
                        <span>
                        	<div class="form-inline">
                                <div class="checkbox i-checks">
                                    <label class="no-padding">
                                        <input name="copyCheckbox" type="checkbox" id="isAlarmSelCheck"><i></i></label>
                                </div>
                            </div>
                        </span>
                        </td>
                        <td class="col-md-11">
                            <span>报警记录</span>
                        </td>
                    </tr>
                    <tr class="input-group" style="display: none;" name="otherSel">
                        <td class="col-md-1">
                        <span>
                        	<div class="form-inline">
                                <div class="checkbox i-checks">
                                    <label class="no-padding">
                                        <input name="copyCheckbox" type="checkbox" id="isHisSelCheck"><i></i></label>
                                </div>
                            </div>
                        </span>
                        </td>
                        <td class="col-md-11">
                            <span>历史数据</span>
                        </td>
                    </tr>

                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" ng-click="copyDeviceConfig()">保存</button>
            </div>
        </div>
    </div>
</div>
<!--end 配置复制modal -->



<!--begin 配置复制提示modal-->
<div class="modal inmodal fade" id="noticeCopy" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" style="padding:15px 10px;">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title">提示</h4>
            </div>
            <div class="modal-body">
                <div id="noticeMessage">
                    <span style="color: red;"></span>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-white" data-dismiss="modal" ng-click="showBaseInfo()">确定</button>
            </div>
        </div>
    </div>
</div>
<!--end 配置复制提示modal -->

<!--begin 地位地图modal-->
<div class="modal fade" id="localMapModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" id="modal-content-id" style="width: 1600px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    定位
                </h4>
            </div>
            <div class="modal-body " style="height:500px;" id="model-body-id">
                <iframe class="J_iframe"  width="100%" height="100%" frameborder="0"
                         id="mapIframe" src="user/localMap.html"></iframe>
            </div>
            <div class="modal-footer">
                <button type="button" id="btn_cancelSetOption" class="btn btn-default" data-dismiss="modal">关闭
                </button>
                <button type="button" id="btn_setViewOpint" class="btn btn-primary">
                    确定
                </button>
            </div>
        </div><!-- /.modal-content -->
    </div>
</div>
<!--end 定位地图modal-->


<script src="../lib/bootstrap/js/bootstrap.min.js?v=3.3.6"></script>
<script src="../lib/sweetalert.min.js"></script>
<script src="../lib/iCheck/js/icheck.min.js"></script>
<script src="../lib/jquery/jquery-ui.min.js"></script>
<script src="../lib/angular/angular.min.js" type="text/javascript"></script>
<script src="../lib/wecon-common.js"></script>
<script src="../lib/jquery.dataTables.min.js"></script>
<script src="../js/baseinfo.js?v=1"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=22nCxldLGEbsQ3gXBNTwhF4Te4UDzECE"></script>

<script>
    $(function () {
        $("i[name='act_i_state']").tooltip();
        console.log("1111", $("#testTool").css("color","red"));
        $("#tables").sortable({
            cursor: "move",
            items: ".drag-item",
            opacity: 0.6
        });
        $("#tables").disableSelection();
        $("#tables").bind('sortstop', function (event, ui) {
            alert("sort end!")
        });
        var table = $("#tables").DataTable({
            "searching": false, //去掉搜索框方法一
            "bFilter": false,   //去掉搜索框方法二
            "bSort": false,  //禁止排序
            "paging": false,   //禁止分页
            "info": false   //去掉底部文字
        });
        $('a.toggle-vis').on('click', function (e) {
            e.preventDefault();

            // Get the column API object
            var column = table.column($(this).attr('data-column'));

            // Toggle the visibility
            column.visible(!column.visible());
        });
    });

    $(document).ready(function () {
        $(".i-checks").iCheck({checkboxClass: "icheckbox_square-green", radioClass: "iradio_square-green",})
    });

//    var initMap1 = function () {
//        console.log("有执行到么");
//        // 百度地图API功能
//        var map = new BMap.Map("allmap");    // 创建Map实例
//        map.centerAndZoom(new BMap.Point(116.404, 39.915), 11);  // 初始化地图,设置中心点坐标和地图级别
//        //添加地图类型控件
//        map.addControl(new BMap.MapTypeControl({
//            mapTypes: [
//                BMAP_NORMAL_MAP,
//                BMAP_HYBRID_MAP
//            ]
//        }));
//        map.setCurrentCity("北京");          // 设置地图显示的城市 此项是必须设置的
//        map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
//    }
//
//    var initMap = function(){
//        setTimeout('initMap1()', 1000);
//    }

</script>
</body>

</html>